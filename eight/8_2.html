<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="style.css">
<script>function animate(options) {

  let start = performance.now();

  requestAnimationFrame(function animate(time) {
    // timeFraction –æ—Ç 0 –¥–æ 1
    let timeFraction = (time - start) / options.duration;
    if (timeFraction > 1) timeFraction = 1;

    // —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏
    let progress = options.timing(timeFraction)

    options.draw(progress);

    if (timeFraction < 1) {
      requestAnimationFrame(animate);
    }

  });
}</script>
</head>
<body>
<textarea id="textExample" rows="3" cols="45">–≤—Å–µ –∑–Ω–∞—é—Ç —ç—Ç–∏—Ö üíÄ—è –Ω–∞—á–∏–Ω–∞—é—â–∏–π —Ä—ç–ø–µ—ÄüíÄ –ø–∞—Ä–Ω–µ–π
–≤ –∏—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–µ —ç—Ç–∏ –ø–∞—Ä–Ω–∏ –Ω–∞—á–∏–Ω–∞—é—â–∏–µ —Å—Ç—Ä–∏–º–µ—Ä—ã
</textarea>
<button onclick="animateText(textExample)">–°—Ç–∞—Ä—Ç</button>
<script>
function animateText(textArea) {
let text = textArea.value;
let to = text.length,
from = 0;
animate({
duration: 10000,
timing: bounce,
draw: function(progress) {
let result = (to - from) * progress + from;
textArea.value = text.substr(0, Math.ceil(result))
}
});
}
function bounce(timeFraction) {
for (let a = 0, b = 1, result; 1; a += b, b /= 2) {
if (timeFraction >= (7 - 4 * a) / 11) {
return -Math.pow((11 - 6 * a - 11 * timeFraction) / 4, 2) + Math.pow(b, 2)
}
}
}
</script>
</body>
</html>
